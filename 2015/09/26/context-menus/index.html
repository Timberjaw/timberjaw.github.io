<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Context Menus | TIMBERTECH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="One of my many lofty goals for StupidRPG is the idea that it could be successfully completed using only the mouse (or touch, on mobile). This presents a number of challenges because I don’t want to co">
<meta property="og:type" content="article">
<meta property="og:title" content="Context Menus">
<meta property="og:url" content="http://timberjaw.github.io/2015/09/26/context-menus/index.html">
<meta property="og:site_name" content="TIMBERTECH">
<meta property="og:description" content="One of my many lofty goals for StupidRPG is the idea that it could be successfully completed using only the mouse (or touch, on mobile). This presents a number of challenges because I don’t want to co">
<meta property="og:updated_time" content="2015-12-28T23:48:10.217Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Context Menus">
<meta name="twitter:description" content="One of my many lofty goals for StupidRPG is the idea that it could be successfully completed using only the mouse (or touch, on mobile). This presents a number of challenges because I don’t want to co">
  
  
  
 <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

<link href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><span class="site-title">TIMBERTECH</span></a>
      <span class="site-subtitle">DATA COLLECTOR MK IV</span>
      <nav id="main-nav">
        
      </nav>
      
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
        <td>
          
            <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://timberjaw.github.io"></form>
          
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
      <section id="main"><article id="post-context-menus" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Context Menus
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/09/26/context-menus/">
      <time datetime="2015-09-26T07:00:00.000Z" itemprop="datePublished">2015-09-26</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>One of my many lofty goals for StupidRPG is the idea that it could be successfully completed using only the mouse (or touch, on mobile). This presents a number of challenges because I don’t want to compromise the textual nature of the output (i.e. I don’t want to clutter the output with a ton of available actions). Context menus are my first attempt at solving this problem. Text-input players can ignore them entirely (treat them as non-interactive text just like the rest).</p>
<h2 id="What_is_a_Context_Menu_3F"><a href="#What_is_a_Context_Menu_3F" class="headerlink" title="What is a Context Menu?"></a>What is a Context Menu?</h2><p>It’s a little dropdown thingy that opens from clickable command tags (highlighted bits of text that perform an action when clicked). Generally speaking, clicking on a compass direction will move the player in that direction, and clicking an object or NPC will <code>LOOK AT</code> the object or NPC. Context menus allow for more actions to be available for each tag.</p>
<h2 id="How_do_they_work_3F"><a href="#How_do_they_work_3F" class="headerlink" title="How do they work?"></a>How do they work?</h2><p>On the technical side, not every tag has context actions. Context actions are globally registered with the Entity prototype, which runs a bit of code each time a tag is generated to see which actions are suitable. Right now I have four actions defined:</p>
<ol>
<li><code>LOOK</code>: Always available (if an object is being mentioned in a description, the player can obviously see it).</li>
<li><code>TAKE</code>: Available if the Entity can be taken (there’s already a flag for that).</li>
<li><code>EAT</code>: Available if the Entity has the ‘Edible’ component.</li>
<li><code>TALK TO</code>: Available if the Entity has the ‘Living’ component and has a Conversation object.</li>
</ol>
<p>New actions can be added to the Entity prototype from anywhere (so modules can add new context actions).</p>
<h2 id="What_u2019s_next_3F_What_u2019s_missing_3F"><a href="#What_u2019s_next_3F_What_u2019s_missing_3F" class="headerlink" title="What’s next? What’s missing?"></a>What’s next? What’s missing?</h2><p>Next up I’d like to add the ability for Entities to specify unique, arbitrary context actions (not shared with other Entities). This is a pretty easy task and will let me vary up the dropdowns (and expose some unique interactions and features the player might not be aware of).</p>
<p>The mobile problem: the context menu opens on hover. Hover is not well supported on mobile (some newer phones and tablets optionally support it). Switching to click will make behavior inconsistent because it’s not visually obvious which tags are simple click tags and which also have a menu. Could switch to tap on mobile and make all tags have a context menu (some with only 1 option). Requires an extra click but the behavior is more predictable.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/09/26/context-menus/" data-id="cikwbluu80075g0ohwt0mpktg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/09/27/daily-update-269-2015/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Daily Update 269.2015
        
      </div>
    </a>
  
  
    <a href="/2015/09/25/daily-update-267-2015/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Daily Update 267.2015</div>
    </a>
  
</nav>


  
</article>


</section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Steven Richards<br>
    </div>
  </div>
</footer>
    





 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>





<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>