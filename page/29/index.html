<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>TIMBERTECH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Dev journal and geek stuff.">
<meta property="og:type" content="website">
<meta property="og:title" content="TIMBERTECH">
<meta property="og:url" content="http://timberjaw.github.io/page/29/index.html">
<meta property="og:site_name" content="TIMBERTECH">
<meta property="og:description" content="Dev journal and geek stuff.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TIMBERTECH">
<meta name="twitter:description" content="Dev journal and geek stuff.">
  
  
  
 <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>

<link href="http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><span class="site-title">TIMBERTECH</span></a>
      <span class="site-subtitle">DATA COLLECTOR MK IV</span>
      <nav id="main-nav">
        
      </nav>
      
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
        <td>
          
            <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://timberjaw.github.io"></form>
          
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
      <section id="main">
      <article id="post-stupidrpg-bird-is-the-word" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/15/stupidrpg-bird-is-the-word/">StupidRPG: Bird is the Word</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/15/stupidrpg-bird-is-the-word/">
      <time datetime="2015-08-15T07:00:00.000Z" itemprop="datePublished">2015-08-15</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Today I’m working on the first indepently-acting NPC: a bird. Pretty exciting, yeah? It flies around the map looking for food, avoiding unwelcome contact from the player, and (when no longer hungry), paying a visit to Ranger Bob.</p>
<p>Its behavior will likely grow more complex over time, but as a proof of concept I’m pretty happy with how it’s working. I started with a basic outline of the bird’s possible actions and logic.</p>
<p><div class="highlight-header">Behaviors</div><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The bird roams the Forest, chattering away and looking for food.&#10;&#10;Starting (Max) hunger is 100.&#10;    Reduced by 60 when eating.&#10;    Can go below 0.&#10;    Increased by 1 per turn.&#10;    &#10;General Behaviors&#10;    If the player tries to touch/take/hurt/socialize me, flee along loop&#10;&#10;Hungry Behaviors&#10;    Every turn, if the player is in the location, chirp&#10;    Every turn, if there is something edible in the location, try to eat it&#10;    Every 2nd turn, if there are no edibles in the location, move along loop&#10;    If the bird feeder is here, check it for food&#10;&#10;Full Behaviors (Hunger &#60;= 20)&#10;    Every turn, head toward ranger station&#10;    If I&#39;m at ranger station, sing</span><br></pre></td></tr></table></figure></p>
<p>Next, I started putting together a set of functions to handle each of the bird’s actions: look for food, move along path, etc.</p>
<p><div class="highlight-header">Actions</div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">actions = &#123;</span><br><span class="line">  <span class="string">'_lookForFood'</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> things = <span class="keyword">this</span>.location().children;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> f <span class="keyword">in</span> things) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"BIRD EYEBALLING "</span>+things[f].name);</span><br><span class="line">      <span class="keyword">if</span>(things[f].hasComponent(<span class="string">'edible'</span>)) &#123;</span><br><span class="line">        <span class="keyword">if</span>(things[f].nutrition &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          queueLocalOutput(<span class="keyword">this</span>, <span class="string">"The bird pecks at the "</span> + things[f].name + <span class="string">" eagerly."</span>);</span><br><span class="line">          <span class="keyword">this</span>.hunger -= things[f].nutrition;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          queueLocalOutput(<span class="keyword">this</span>, <span class="string">"The bird pecks at the "</span> + things[f].name + <span class="string">" half-heartedly."</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'_moveAlongPath'</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prev = <span class="keyword">this</span>.location().key;</span><br><span class="line">    <span class="keyword">var</span> next = <span class="keyword">this</span>.path[prev];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>._alertPlayerToMovement(prev,next);</span><br><span class="line"></span><br><span class="line">    ECS.moveEntity(<span class="keyword">this</span>, next);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'_alertPlayerToMovement'</span>:<span class="function"><span class="keyword">function</span>(<span class="params">prev,next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(player.locationIs(prev)) &#123;</span><br><span class="line">      queueGMOutput(<span class="string">"The bird flits away toward "</span> + ECS.getEntity(next).name + <span class="string">"."</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(player.locationIs(next)) &#123;</span><br><span class="line">      queueGMOutput(<span class="string">"The bird flits in from "</span> + <span class="keyword">this</span>.location().name + <span class="string">"."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Finally, I put it together into some simple branching logic, executed on each game tick.</p>
<p><div class="highlight-header">Bird Brain</div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// Look for food when hungry</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>._hungry())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>._lookForFood()) &#123;</span><br><span class="line">            <span class="keyword">this</span>._moveAlongPath();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Head toward ranger station when full</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.locationIs(<span class="string">'ranger-station'</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Head to ranger station</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.locationIs(<span class="string">'north-trail'</span>)) &#123;</span><br><span class="line">            <span class="keyword">this</span>._alertPlayerToMovement(<span class="string">'north-trail'</span>, <span class="string">'ranger-station'</span>);</span><br><span class="line">            ECS.moveEntity(<span class="keyword">this</span>, <span class="string">'ranger-station'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>._moveAlongPath();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Sing at random</span></span><br><span class="line">    <span class="keyword">if</span>(random() &gt; <span class="number">0.75</span>) &#123;</span><br><span class="line">        queueLocalOutput(<span class="string">"The bird chirps a happy tune."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update hunger</span></span><br><span class="line">    <span class="keyword">this</span>.hunger++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>With these simple behaviors and extremely simple logic, the bird will roam the map, interacting dynamically with any food it encounters (stopping to sample it, and continuing to eat if it’s still hungry and the food is nutritious). Once full, it will make its way to see Ranger Bob, and serenade him until it gets hungry again.</p>
<p>The code structure is a little clunky, and I’d like to turn it into something closer to a state machine, where the bird starts in one of a few states (<code>LOOKING_FOR_FOOD</code>, <code>LOOKING_FOR_BOB</code>, <code>SINGING</code>) and can then transition into other states. Managing AI via a state machine is a more scalable solution and will make it easier for me to assemble complex NPC behaviors.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/15/stupidrpg-bird-is-the-word/" data-id="ciol5s2s1003x9wohc8x7vynu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-the-grind" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/14/the-grind/">The Grind</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/14/the-grind/">
      <time datetime="2015-08-14T07:00:00.000Z" itemprop="datePublished">2015-08-14</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Computer RPGs have a bad habit of padding their content to increase the game’s playtime. They have a bit of incentive to do so, as many players measure the game’s worth in part based on the number of hours they can sink into it. Some games justify the length, but more often in my experience, the game becomes a grind. Hack-and-slash or action RPGs are particularly common examples, but even more plot-heavy RPGs like Final Fantasy VII or Mass Effect are guilty of this.</p>
<p>Random encounters, same-y enemies, and arbitrary objectives (Collect 30 Wolf Pelts) tend to leave me feeling burnt out (YMMV). Action RPGs try to keep things fresh by varying up the locations, periodically introducing new enemies (often location-themed), and tossing in the occasional puzzle or unique side quest. It’s a distraction (a welcome one) from the otherwise repetitive gameplay.</p>
<p>For StupidRPG, I’m aiming for roughly a 4-hour playtime. Even that length may be excessive; I’m not confident in my ability to keep a modern gaming audience interested in a text-based game for several hours, at least not without moving in more of a MUD direction. The exact amount of time isn’t important to me right now, however. What’s more important is the amount of unique, quality content. SRPG is more about interesting text than increasingly large numbers.</p>
<p>I have a lot of work to do.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/14/the-grind/" data-id="ciol5s2qp002j9wohkd3vb84q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>



    
      <article id="post-stupidrpg-milestones" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/13/stupidrpg-milestones/">StupidRPG: Milestones</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/13/stupidrpg-milestones/">
      <time datetime="2015-08-13T07:00:00.000Z" itemprop="datePublished">2015-08-13</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Now that coding is properly back underway, it’s time to layout some development milestones. It’s a big project and there’s a long way to go. <em>This post will contain small spoilers, which will not be hidden with spoiler tags.</em></p>
<h2 id="Phase_I_3A_The_Black_Box"><a href="#Phase_I_3A_The_Black_Box" class="headerlink" title="Phase I: The Black Box"></a>Phase I: The Black Box</h2><p><strong>Milestone 0: The Engine (Done)</strong></p>
<p>This milestone was considered finished with the completion of the ECS, NLP, and Core module. The majority of development after this point consists of creating Modules, Components, Verbs, and Entities.</p>
<p><strong>Milestone 1: The Forest (Done)</strong></p>
<p>Laying out the starting area of the game with some basic gameplay (movement, NPC interaction, containers, etc) as a proof of concept.</p>
<p><strong>Milestone 2: The People</strong></p>
<p>Adding interactive NPCs in the starting region, complete with dialogue trees, awareness of the player and of each other.</p>
<p><strong>Milestone 3: The Quest</strong></p>
<p>Giving the player objectives, measuring their progress, and offering a gameplay path to the first act of the game.</p>
<p><strong>Milestone 4: The End</strong></p>
<p>This one might sound out of order, but immediately after the prologue I’m going to write and construct the ending of the game. At the end of this milestone, the game will be in a fully playable state with beginning and end, choices to make, and challenges to overcome. The rest is content, content, content.</p>
<p><strong>Retrospective I</strong></p>
<p>After completing milestone 4, I’m going to pause briefly and consider the rest of the game’s structure. This is effectively a second design phase to make sure I’m on the right track and that the plot/quest/world/style are working well.</p>
<h2 id="Phase_II_3A_StupidRPG"><a href="#Phase_II_3A_StupidRPG" class="headerlink" title="Phase II: StupidRPG"></a>Phase II: StupidRPG</h2><p><strong>Milestone 5: Act I</strong></p>
<p>Content milestone. Two regions, one NPC, and a couple challenges.</p>
<p><strong>Milestone 5: Act II</strong></p>
<p>Content milestone. Two regions, several NPCs, and many challenges.</p>
<p><strong>Milestone 5: Act III</strong></p>
<p>Content milestone. Two or three regions, including a larger one. Many NPCs, many challenges, more social interactions. Leads into the endgame segment from Milestone 4.</p>
<p><strong>Retrospective II</strong></p>
<p>The second retrospective will assess the game as a whole, looking at:</p>
<ol>
<li>Content that should be cut (sometimes less is more)</li>
<li>Areas where content needs added</li>
<li>Areas where the content doesn’t work</li>
<li>Fun factor</li>
</ol>
<p><strong>Milestone 6: Release Candidate</strong></p>
<p>At this point the game should be feature-complete and content-complete, with all the changes from Retrospective II implemented. Top priorities are bug fixes, editing, and balancing.</p>
<p><strong>Milestone 7: Release</strong></p>
<p>The game is done(ish)!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/13/stupidrpg-milestones/" data-id="ciol5s2rj003e9woh40y1pe0w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-licensing-and-copyright" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/11/licensing-and-copyright/">Licensing &amp; Copyright</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/11/licensing-and-copyright/">
      <time datetime="2015-08-12T00:00:00.000Z" itemprop="datePublished">2015-08-11</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Short post today. I’ve been thinking a bit about how to license SRPG. On the engine side, I’m learning toward a permissive open source license such as MIT, LGPL, or the more extreme WTFPL. It’s not much of a technological marvel, and probably doesn’t have much use outside of a <em>very</em> specific niche.</p>
<p>The actual content (story, locations, NPCs, etc) of the game will likely be covered under standard copyright rules. At this time the plan is to make the game freely available for play in an online format (though I’ve done a couple experiments with wrapping it inside a native app).</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/11/licensing-and-copyright/" data-id="ciol5s2u5004v9wohnhmk14fl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>



    
      <article id="post-stupidrpg-game-ticks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/11/stupidrpg-game-ticks/">StupidRPG: Game Ticks</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/11/stupidrpg-game-ticks/">
      <time datetime="2015-08-11T07:00:00.000Z" itemprop="datePublished">2015-08-11</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>A game tick is a unit of time for something happening in the world. Generally, when the player takes an action, a tick occurs. Entities within the ECS can watch for ticks and take actions. NPCs, for example, have the opportunity to take an action on each tick. You can think of a tick as a round of combat in D&amp;D, where each combatant has their own turn within the round (in a particular order).</p>
<p>Ticks are controlled very flexibly, allowing for layers of precedence and handlers:</p>
<ol>
<li>Global: defaults to on, run after any user input</li>
<li>NLP: disables current tick if the player’s input wasn’t understood</li>
<li>Verb: enables/disables current tick for an entire verb (e.g. <code>INVENTORY</code>)</li>
<li>Callback: can enable/disable current tick on the fly during verb callback</li>
</ol>
<p>Some fun things I might look into:</p>
<ul>
<li>Time scaling as a result of plot or a character power (ticks happen more/less frequently than normal).</li>
<li>Exempting a creature from the normal tick rules, allowing them to act after bad input or non-tick verbs.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/11/stupidrpg-game-ticks/" data-id="ciol5s2rp003m9woh1hsuljfs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-weekly-update-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/10/weekly-update-4/">Weekly Update #4</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/10/weekly-update-4/">
      <time datetime="2015-08-10T07:00:00.000Z" itemprop="datePublished">2015-08-10</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Progress!</p>
<p><strong>Changelog:</strong></p>
<ul>
<li>Fixed dialogue tree bug that was preventing other progress. Now the sword won’t talk to you while you’re trying to talk to Ranger Bob.</li>
<li>Finally solved a Rubik’s Cube without using a guide. Now I can go do more useful things with my life.</li>
</ul>
<p><strong>Known Issues:</strong></p>
<ul>
<li>Nothing new</li>
</ul>
<p><strong>Next Up:</strong></p>
<ul>
<li>Fill out Ranger Bob’s dialogue tree.</li>
<li>Add The Twins.</li>
<li>Litterbug quest.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/10/weekly-update-4/" data-id="ciol5s2ol000u9woh2gnuz5by" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/update/">update</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-replay-value-something-new-from-something-old" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/09/replay-value-something-new-from-something-old/">Replay Value: Something New From Something Old</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/09/replay-value-something-new-from-something-old/">
      <time datetime="2015-08-09T07:00:00.000Z" itemprop="datePublished">2015-08-09</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>I’ve been thinking a bit about replay value in a text adventure. SRPG is, as the name would indicate, an RPG, so there’s some inherent replay value in the form of race/class choices, moral decisions, etc. Getting away from specifics, though, replay value is all about getting a new experience from a familiar construct.</p>
<p>Giving the player access to new/different mechanics is a good start. SRPG does that via race/class selection, which changes the starting items and stats for the player. If people feel invested enough to replay the game with each race or class, I’ll feel pretty satisfied about the variety available. But there’s probably more potential. Other avenues for replayability include: multiplayer, random events, procedural generation, and bullheaded dedication to completionism.</p>
<p>Procedural content is of particular interest to me, but in most games I’m familiar with, that amounts to a slightly different random experience. In some cases that’s perfectly acceptable. Minecraft is one of my favorite games, though its replay value is largely driven by the combination of ‘another slightly different cave’ and ‘slightly different player base.’ I have more ambitious goals for procedural content in SRPG, using NPC behaviors in games like Elder Scrolls as a template.</p>
<p>NPCs become interesting when they have their own lives, with motivations, goals, and challenges. Similarly, the same storyline gains new life when given a different cast or a new turn in the river. While I don’t aim for a completely new experience for the player each time they begin anew, I hope they’ll get a little bit more out of the game if they choose to replay it with fresh eyes and fresh decisions.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/09/replay-value-something-new-from-something-old/" data-id="ciol5s2t8004j9wohbdx4p732" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>



    
      <article id="post-stupidrpg-output-queue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/08/stupidrpg-output-queue/">StupidRPG: Output Queue</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/08/stupidrpg-output-queue/">
      <time datetime="2015-08-08T07:00:00.000Z" itemprop="datePublished">2015-08-08</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Input queue, output queue, callback queue…SRPG has all kinds of queues. The output queue is a fun one. On the basic side, it handles the process of outputting text to the browser (paragraphs generated by the player’s action). It does a few more interesting things as well.</p>
<h2 id="Timing"><a href="#Timing" class="headerlink" title="Timing"></a>Timing</h2><p>Why a queue? Why not just output all the text immediately. Two reasons: screen management and dramatic timing.</p>
<p><strong>Screen Management</strong></p>
<p>Being a browser game, the dimensions (width and height) of the window in which it’s played are not known to me at design time. In particular, I don’t know how many lines of text will fit on the screen vertically. The output queue lets me ‘pause’ the flow of text when room runs out, and prompt the user to press a key to continue. You might recognize this feature from the classic Infocom games.</p>
<p><strong>Dramatic Timing</strong></p>
<p>This one is more fun. Not all text has to be drawn to the screen at the same speed. Pauses can be inserted between text items at will. This is particularly useful when outputting narration or dialogue, in which moments of hesitation or consideration by the GM or NPCs will make the output feel more lifelike.</p>
<h2 id="Effects"><a href="#Effects" class="headerlink" title="Effects"></a>Effects</h2><p>I haven’t made use of this concept yet, but the output queue also allows for the inclusion of special effects down the road. For example, a typewriter output effect, backspacing to erase a typo by the GM, and so forth. Something to look forward to for the next time I don’t have pressing bugs to deal with.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/08/stupidrpg-output-queue/" data-id="ciol5s2rd00389wohuwg624sm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-wish-list-multiplayer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/07/wish-list-multiplayer/">Wish List: Multiplayer</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/07/wish-list-multiplayer/">
      <time datetime="2015-08-07T07:00:00.000Z" itemprop="datePublished">2015-08-07</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>One of my many pie-in-the-sky goals for StupidRPG is networked multiplayer. I have absolutely no hands-on experience with network programming (browser or otherwise), so it’s toward the bottom of the priority list. I do know a little bit about websockets and a moderate amount about databases.</p>
<p>The engine for SRPG was built with future multiplayer in mind (sort of). Actions usually enter the queue from local input, but that’s not a requirement. I’ve already shown examples of input being added via test functions and via previous input (an action triggering another action). Handling a remotely-entered command (and appropriate context, such as the remote player entity) doesn’t pose an architectural problem. There are, however, many design challenges to overcome to make multiplayer work in a plot-driven, turn-based RPG. I’ll talk about a few problems and concepts I’ve been considering.</p>
<h2 id="Problem_3A_Whose_Turn_Is_It_3F"><a href="#Problem_3A_Whose_Turn_Is_It_3F" class="headerlink" title="Problem: Whose Turn Is It?"></a>Problem: Whose Turn Is It?</h2><p>In short, for the game to work as-is, it needs to remain purely turn based and synchronous. Players take turns inputting commands, then the engine distributes the commands to the other players. For common actions like moving around, opening doors, and picking up objects, this is no problem. There are a few cases where it gets tricky though:</p>
<ul>
<li>Command interrupts (these need to be contextual per-player)</li>
<li>Dialogue trees (does P2 have to wait for P1 to finish an entire conversation before they can take an action?)</li>
<li>No-tick actions</li>
<li>Guided segments like the intro</li>
</ul>
<p>I have solutions in mind for some of these. No-tick actions (which I’ll talk more about in another post) don’t need to be synchronized between players. This means P1 can look at their inventory while P2 is taking their turn, for example.</p>
<p>Thinking more broadly, I’ll need to develop a method for flagging synchronous/asynchronous sections (in addition to no-tick actions). Synchronous actions can only be done on your turn, while asynchronous actions can be done at any time.</p>
<h2 id="Problem_3A_Gameplay"><a href="#Problem_3A_Gameplay" class="headerlink" title="Problem: Gameplay"></a>Problem: Gameplay</h2><p>This ties in to the previous problem a bit (particularly the handling of dialogue trees), but it’s a more fundamental set of questions. In short, what does Player 2 do? Are they another fully-fledged individual just like Player 1? Are they a sidekick of some type? Are they present for the duration of the game’s plot? Do I need to build separate puzzles and gameplay elements for the solo and multiplayer modes?</p>
<h2 id="Concept_3A_Act_IV_Multiplayer"><a href="#Concept_3A_Act_IV_Multiplayer" class="headerlink" title="Concept: Act IV Multiplayer"></a>Concept: Act IV Multiplayer</h2><p>Traditional multiplayer aside, another concept I’m considering is to only introduce multiplayer at the end of the game’s story. Essentially, the campaign would wrap up and then the game would turn into a more open world with multiple players. Might be overly ambitious, and for a new player who wants to play with a friend, they have a lot of content to get through first.</p>
<h2 id="Concept_3A_Asymmetric_Multiplayer"><a href="#Concept_3A_Asymmetric_Multiplayer" class="headerlink" title="Concept: Asymmetric Multiplayer"></a>Concept: Asymmetric Multiplayer</h2><p>Lastly, I’m looking at asymmetric play. Instead of having both players exist as equals in the storyline, the second would have a different experience entirely (sidekick, animal, etc). Some Wii U games use this type of play for the 5th player, allowing them to assist the other players from outside the regular mode. This is just as ambitious as the Act IV concept, as it needs a lot of extra content and coding to be meaningful.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/07/wish-list-multiplayer/" data-id="ciol5s2o000099wohm5durm2s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wishlist/">wishlist</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <article id="post-save-load-undo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/06/save-load-undo/">StupidRPG: Save, Load, &amp; Undo</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/08/06/save-load-undo/">
      <time datetime="2015-08-06T07:00:00.000Z" itemprop="datePublished">2015-08-06</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <p>Most text adventures (that I’ve played, at least) don’t feature the auto-save ‘checkpoints’ common in modern videogames. They do include <code>SAVE</code> and <code>LOAD</code> commands which work exactly as you’d expect, but they also typically provide another command for state management: <code>UNDO</code>.</p>
<p>In a singleplayer, turn-based game, <code>UNDO</code> is a pretty straightforward feature to implement. There are a few different approaches, but I’ve elected to leverage the savestate functionality for efficiency’s sake. More on that in a bit.</p>
<h2 id="SAVE"><a href="#SAVE" class="headerlink" title="SAVE"></a><code>SAVE</code></h2><p>The save command in SRPG is handled primarily by the ECS. Since <em>Everything is an Entity</em>, I can simply loop through all the entities, building a new object which can be stored in JSON format. From there, it can be saved in the browser’s local storage or downloaded to the user’s computer.</p>
<p>Not every piece of data on an object is needed for savestate. Most callbacks don’t change once they’re set, and many object attributes are static as well. Accordingly, each Component can specify the persistent attributes that should be included in the save process. For example, the Living component specifies that the HP attribute should be saved.</p>
<h2 id="LOAD"><a href="#LOAD" class="headerlink" title="LOAD"></a><code>LOAD</code></h2><p>Loading works exactly as you’d expect: saving in reverse. The JSON data is read back and the entity attributes are re-applied to the live versions.</p>
<h2 id="UNDO"><a href="#UNDO" class="headerlink" title="UNDO"></a><code>UNDO</code></h2><p>Undo is a combination of an internal save (before each action, save the current state) and load, allowing the player to jump back in time just as if they had manually saved and loaded. Effectively, it’s an automated Quick Save feature. Supporting additional steps of undo is possible, at the cost of additional memory and CPU time.</p>
<p>Because <code>UNDO</code> is a verb just like any other in the game, there are some interesting opportunities for integration into the mechanics and story. That’s a surprise for another day, though.</p>
<h2 id="Next_Steps"><a href="#Next_Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>There are a few shortcomings of the current model:</p>
<ul>
<li>Saving multiple levels of undo is not cost efficient. I need to do better profiling of the memory consumption of the game.</li>
<li>Much of the saved data is not actually changed from the base entity state. I could reduce the size of the save files by only saving attributes that have actually changed, but that means adding more tracking code.</li>
<li>Some circumstances need special handling. For example, what happens if the player uses <code>UNDO</code> directly after <code>SAVE</code>?</li>
<li>Entities have to be uniquely identified in order for loading to work properly. This isn’t currently a problem, but could become one in the future with dynamically generated entities.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://timberjaw.github.io/2015/08/06/save-load-undo/" data-id="ciol5s2t0004d9wohn4cvw76t" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stupidrpg/">stupidrpg</a></li></ul>

    </footer>
  </div>
  
</article>



    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/28/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="page-number" href="/page/28/">28</a><span class="page-number current">29</span><a class="page-number" href="/page/30/">30</a><a class="page-number" href="/page/31/">31</a><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/30/">Next &raquo;</a>
      </nav>
    </section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Steven Richards<br>
    </div>
  </div>
</footer>
    





 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>





<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>